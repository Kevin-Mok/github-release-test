@Library('jenkins-pipeline-shared-libraries-kmok')_
/* @Library('jenkins-pipeline-shared-libraries')_ */

pipeline {
    agent any
    stages {
        stage('Tag repo') {
            steps {
                script {
                    cleanWs()
                    checkout(githubscm.resolveRepository('jenkins-test', "Kevin-Mok-Bot", "master", false))
                    sh "echo a >> README.md"
                    githubscm.commitChanges("Date")
                    sh "git log -1"
                    githubscm.tagRepository("$BUILD_TAG", "$BUILD_TAG")
                    sh "git show ${BUILD_TAG}"
                    /* githubscm.pushObject('origin', "$BUILD_TAG", "bad") */
                }
            }
        }
    }
}
